(this.webpackJsonpemployee_bithdays=this.webpackJsonpemployee_bithdays||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(15),i=n.n(r),a=n(10),o=n(8),l=n(14),u=n(24),d="_START",j="_SUCCESS",b="LOAD_EMPLOYEES",h="ADD_TO_ACTIVE",m="DELETE_FROM_ACTIVE",O={users:{},selected:[],loading:!1,loaded:!1},p=Object(l.b)({employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case b+d:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case b+j:var s=c.reduce((function(e,t){return e[t.id]=t,e}),{});return Object(o.a)(Object(o.a)({},e),{},{users:s,loading:!1,loaded:!0});case h:return Object(o.a)(Object(o.a)({},e),{},{selected:e.selected.concat(c.id)});case m:return Object(o.a)(Object(o.a)({},e),{},{selected:e.selected.filter((function(e){return e!==c.id}))});default:return e}}}),f=Object(l.a)(u.a,(function(e){return function(t){return function(n){console.log("---","state before",e.getState()),console.log("---","dispatching",n),t(n),console.log("---","state after",e.getState())}}})),v=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),y=Object(l.c)(p,v,f);y.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}({employees:Object(o.a)(Object(o.a)({},y.getState().employees),{},{users:{},loading:!1,loaded:!1})})})),window.store=y;var x=y,g=(n(33),n(11)),N=n(3),E=(n(34),n(9)),S=n.n(E);S.a.string.isRequired,S.a.string.isRequired,S.a.string.isRequired,S.a.string.isRequired;var A=n(25),C=(n(35),n(36),n(1)),M=function(e){return function(t){JSON.parse(t.target.value)?e.addToActive(e.employee.id):e.deleteFromActive(e.employee.id)}},_=Object(a.b)((function(e,t){return{isActive:e.employees.selected.includes(t.employee.id)}}),{addToActive:function(e){return{type:h,payload:{id:e}}},deleteFromActive:function(e){return{type:m,payload:{id:e}}}})((function(e){var t="".concat(e.employee.lastName," ").concat(e.employee.firstName);return Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:e.isActive?"active":"",children:t}),Object(C.jsx)("div",{onChange:M(e),children:Object(C.jsxs)("ul",{className:"vertical-list",children:[Object(C.jsxs)("li",{children:[Object(C.jsx)("input",{type:"radio",value:!1,name:"is-active-".concat(e.employee.id),defaultChecked:!e.isActive})," ","not active"]}),Object(C.jsxs)("li",{children:[Object(C.jsx)("input",{type:"radio",value:!0,name:"is-active-".concat(e.employee.id),defaultChecked:e.isActive})," ","active"]})]})})]})})),D=function(e){return function(t,n){return(t[e]>n[e])-(t[e]<n[e])}},L=function(e){var t=e.users.length?e.users.sort(D("lastName")).map((function(e){return Object(C.jsx)(_,{employee:e},e.id)})):"---";return Object(C.jsxs)("div",{className:"d-inline-block me mb align-top alphabet-block",children:[Object(C.jsx)("div",{className:"mb",children:e.title}),t]})},T=function(e){for(var t={},n=10;n<35;n++)t[n.toString(36).toUpperCase()]=[];return Object.values(e.users).forEach((function(e){return t[e.lastName[0].toUpperCase()].push(e)})),t=Object.entries(t).map((function(e,t){var n=Object(A.a)(e,2),c=n[0],s=n[1];return Object(C.jsx)(L,{title:c,users:s},t)})),Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{className:"text-center",children:"Employees"}),t]})},k=n(23),w=(n(38),n(18)),F=n.n(w),I=function(e){var t="".concat(e.user.lastName," ").concat(e.user.firstName," - ").concat(F()(e.user.dob).format("DD MMMM, YYYY [year]"));return Object(C.jsx)("li",{children:t})},R=function(e){var t=e.users.sort(D("lastName")).map((function(e){return Object(C.jsx)(I,{user:e},e.id)}));return Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{children:e.month}),Object(C.jsx)("ul",{className:"vertical-list",children:t})]})},Y=function(e){var t,n=F.a.months().map((function(e){return{month:e}})),c=(t=e.users,e.selected.reduce((function(e,n){var c=t[n],s=new Date(c.dob).getMonth();return e[s]?e[s].push(c):e[s]=[c],e}),new Array(12)));n.forEach((function(e,t){c[t]&&(e.users=c[t])}));var s=n.splice(0,(new Date).getMonth());return[].concat(Object(k.a)(n),Object(k.a)(s)).filter((function(e){return e.users})).map((function(e,t){return Object(C.jsx)(R,{month:e.month,users:e.users},t)}))},q=Object(a.b)((function(e){return{selected:e.employees.selected}}))((function(e){return Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{className:"text-center",children:"Employees Birthday"}),Object(C.jsx)("div",{className:"birthday-block",children:e.selected.length?Y(e):"Employees List is empty"})]})})),J=(n(40),function(e){return Object(C.jsx)("div",{className:"center",children:Object(C.jsx)("div",{className:"spinner"})})}),B=Object(a.b)((function(e){return{users:e.employees.users,loading:e.employees.loading,loaded:e.employees.loaded}}),{loadEmployees:function(){return function(e){e({type:b+d}),fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()})).then((function(t){return e({type:b+j,payload:t})})).catch((function(t){return e({type:"LOAD_EMPLOYEES_FAIL",error:t})}))}}})((function(e){var t=e.users,n=e.loading,s=e.loaded,r=e.loadEmployees;return Object(c.useEffect)((function(){n||s||r()}),[]),Object.keys(t).length?Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-8",children:Object(C.jsx)(T,{users:t})}),Object(C.jsx)("div",{className:"col-4",children:Object(C.jsx)(q,{users:t})})]})}):Object(C.jsx)(J,{})})),P=(n(41),function(e){return Object(C.jsx)("div",{className:"button",children:Object(C.jsx)(g.b,{to:"/employees",children:"Employees Birthday Schedule"})})});n(44);var U=function(e){return Object(C.jsxs)("div",{className:"mainbox",children:[Object(C.jsx)("div",{className:"err",children:"4"}),Object(C.jsx)("div",{className:"err1",children:"0"}),Object(C.jsx)("div",{className:"err2",children:"4"}),Object(C.jsxs)("div",{className:"msg",children:["Maybe this page moved? Got deleted? Is hiding out in quarantine? Never existed in the first place?",Object(C.jsxs)("p",{children:["Let's go ",Object(C.jsx)(g.b,{to:"/",children:"home"})," and try from there."]})]})]})},V=function(e){return Object(C.jsx)(g.a,{children:Object(C.jsxs)(N.c,{children:[Object(C.jsx)(N.a,{path:"/employees",component:B}),Object(C.jsx)(N.a,{exact:!0,path:"/",component:P}),Object(C.jsx)(N.a,{path:"*",component:U})]})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),r(e),i(e)}))};i.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(a.a,{store:x,children:Object(C.jsx)(V,{})})}),document.getElementById("root")),G()}},[[45,1,2]]]);
//# sourceMappingURL=main.e0e28bd0.chunk.js.map